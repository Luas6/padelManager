<section id="login-usuarios">

    <div *ngIf="isLoggedIn$ | async; else myLoginForm">
        <!-- Mostrar pantalla de cierre de sesión si la sesión está iniciada -->
        <h2>Sesión iniciada</h2>
        <button (click)="logout()">Cerrar sesión</button>
    </div>
    <ng-template #myLoginForm>
        <div class="col-md-6 offset-md-3">
            <h3> Login </h3>
            <form (ngSubmit)="onSubmit()" [formGroup]="loginForm">

                <div class="form-group py-2">
                    <label> Email Id</label>
                    <input type="text" class="form-control" id="correo" formControlName="correo">
                    <div *ngIf="loginForm.controls['correo'].invalid && (loginForm.controls['correo'].dirty || loginForm.controls['correo'].touched)">
                        <div *ngIf="loginForm.controls['correo'].hasError('required')" class="error">El correo es obligatorio.</div>
                      </div>
                </div>

                <div class="form-group py-2">
                    <label>Contraseña</label>
                    <input type="password" class="form-control" id="contrasena" formControlName="contrasena">
                    <div *ngIf="loginForm.controls['contrasena'].invalid && (loginForm.controls['contrasena'].dirty || loginForm.controls['contrasena'].touched)">
                        <div *ngIf="loginForm.controls['contrasena'].hasError('required')" class="error">La contraseña es obligatoria.</div>
                      </div>
                </div>

                <div *ngIf="mensajeError" class="mensaje-error">{{ mensajeError }}</div>
                <button class="btn btn-success my-4" type="submit">Submit</button>

            </form>
        </div>
    </ng-template>
</section>